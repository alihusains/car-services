<script>
    // Define the deeplinks
    const deeplinks = {
        battery: "cafuapp://cafu.mobile.com/trigger-service?service=battery",
        carwash: "cafuapp://cafu.mobile.com/trigger-service?service=car-wash",
        oilchange: "cafuapp://cafu.mobile.com/trigger-service?service=servicing",
        tyrechange: "cafuapp://cafu.mobile.com/trigger-service?service=tyre",
         emergencyfuel: "cafuapp://cafu.mobile.com/emergency-services?service=emergency_fuel",
        emergencybattery: "cafuapp://cafu.mobile.com/emergency-services?service=emergency_battery",
        emergencytyres: "cafuapp://cafu.mobile.com/emergency-services?service=emergency_tyres",
        emergencytyrepressure: "cafuapp://cafu.mobile.com/emergency-services?service=emergency_tyre_pressure",
        emergencytowing: "cafuapp://cafu.mobile.com/emergency-services?service=emergency_towing",
        vehicleinspection: "cafuapp://cafu.mobile.com/trigger-service?service=vehicle-inspection"
    
    };

    // Function to handle the redirect
    function redirectUser() {
        // Get the query parameters
        const urlParams = new URLSearchParams(window.location.search);
        const service = urlParams.get('service');
        const query = window.location.search.replace(`?service=${service}`, '');

        // Check if the service matches any of the defined services
        if (deeplinks[service]) {
            // Redirect to the corresponding deeplink with the remaining query parameters
            window.location.href = deeplinks[service] + query;
        } else {
            // If the service does not match, show an error or handle it appropriately
            alert('Invalid service');
        }
    }

    // Execute the redirect function when the page loads
    window.onload = redirectUser;
</script>
